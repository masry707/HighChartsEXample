//# Place all the behaviors and hooks related to the matching controller here.
//# All this logic will automatically be available in application.js.
//# You can use CoffeeScript in this file: http://coffeescript.org/

$(document).ready(function() {

    function chartOptions() {
        return {
            type: 'line',
            color:'#999A99',
            //plotBackgroundColor: '#FFFACD',
            //plotBorderColor:'#707070',
            plotBorderWidth:2,
            backgroundColor: '#FFFFFF',//'#FFEAA8'//'#FCFFC5'
            //borderColor:'#A9A9A9',
            height: 210,
            spacingBottom:0,
            spacingTop:1,
            marginTop:50,
            width: 1081
        }
    }

    function xAxis(min, max) {
        return {
            min: min,
            max: max,
            label: {
                format: '{value:%Y-%m-%d}'
            }
        }
    }

    function yAxis() {
        return {
            label: {
                format: '{point.y:.1f}%'
            }
        }
    }

    function legendOptions(){
        return {
            layout: 'vertical',
            align: 'left',
            x: 50,
            verticalAlign: 'top',
            y: 70,
            floating: true,
            borderColor: '#707070' ,
            borderWidth: 1,
            backgroundColor:'rgba(234, 239, 234,0.6)',
            fillOpacity:0.1,
            itemStyle: {
                fontWeight: 'normal',
                fontSize: '9.75px',
                font: 'sans-serif'
            }
        }
    }

    function seriesOptions() {
        return [{
            name: 'Realized Vol',
            color: '#ff0000',
            data: [1,2,3,4]
        }, {
            name: 'Implied Vol (25-30 days)',
            color: '#00ff00',
            data: [5,6,7,8]
        }, {
            name: 'Implied Vol (60-90 days)',
            color: '#0000ff',
            data: [9,10,11,12]
        }]
    }

    function createChart() {
        $('#container').highcharts({
            chart: chartOptions(),
            xAxis: xAxis(new Date(2015, 5, 30), new Date(2016, 12, 31)),
            yAxis: yAxis(),
            series: seriesOptions(),
            legend: legendOptions()
        });
    }
    createChart();
});
